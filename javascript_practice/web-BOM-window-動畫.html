<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "UTF-8">
	<title>Title</title>
	<style>
		div {
			position: absolute;
			left: 0;
			width: 100px;
			height: 100px;
			background-color: pink;
		}
		span {
			position: absolute;
			display: block;
			top: 150px;
			width: 150px;
			height: 150px;
			background-color: purple;
		}
	</style>
</head>
<body>
	<span></span>
	<button>purple to 0</button>
	<button>purple to 500</button>
	<button>purple to 800</button>
</body>
<script>
	function animate(obj, target) {
		clearInterval(obj.timer)
		obj.timer = setInterval(function () {
			//向上取整
			// let step = Math.ceil((target - obj.offsetLeft) / 10)
			let step = (target - obj.offsetLeft) / 10
			step = step > 0 ? Math.ceil(step) : Math.floor(step)
			if (obj.offsetLeft == target) {
				clearInterval(timer)
			}
			obj.style.left = obj.offsetLeft + step + 'px'
		}, 30)
	}
	let div = document.querySelector('div')
	let span = document.querySelector('span')
	let btn = document.querySelectorAll('button')
	btn[0].addEventListener('click',function () {
		animate(span, 0)
	})
	btn[1].addEventListener('click',function () {
		animate(span, 500)
	})
	btn[2].addEventListener('click',function () {
		animate(span, 800)
	})
</script>
</html>